<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dialogue System & Localization Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #2563eb;
            --secondary-color: #7c3aed;
            --bg-color: #ffffff;
            --text-color: #1f2937;
            --code-bg: #f3f4f6;
            --border-color: #e5e7eb;
            --sidebar-width: 280px;
            --header-height: 60px;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background: var(--bg-color);
        }

        /* Header */
        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: var(--header-height);
            background: white;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            padding: 0 2rem;
            z-index: 1000;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .logo {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
        }

        .header-right {
            margin-left: auto;
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .lang-switch {
            padding: 0.5rem 1rem;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            background: white;
            cursor: pointer;
            font-size: 0.875rem;
            transition: all 0.2s;
        }

        .lang-switch:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: var(--header-height);
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - var(--header-height));
            background: #f9fafb;
            border-right: 1px solid var(--border-color);
            overflow-y: auto;
            padding: 2rem 0;
        }

        .nav-section {
            margin-bottom: 1.5rem;
        }

        .nav-title {
            padding: 0 1.5rem;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            color: #6b7280;
            margin-bottom: 0.5rem;
        }

        .nav-link {
            display: block;
            padding: 0.5rem 1.5rem;
            color: var(--text-color);
            text-decoration: none;
            font-size: 0.875rem;
            transition: all 0.2s;
        }

        .nav-link:hover {
            background: #e5e7eb;
            color: var(--primary-color);
        }

        .nav-link.active {
            background: #dbeafe;
            color: var(--primary-color);
            font-weight: 500;
            border-right: 3px solid var(--primary-color);
        }

        /* Main Content */
        .main {
            margin-left: var(--sidebar-width);
            margin-top: var(--header-height);
            padding: 3rem;
            max-width: 1200px;
        }

        .content section {
            margin-bottom: 3rem;
            scroll-margin-top: calc(var(--header-height) + 2rem);
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        h2 {
            font-size: 2rem;
            margin: 2rem 0 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--border-color);
        }

        h3 {
            font-size: 1.5rem;
            margin: 1.5rem 0 0.75rem;
            color: var(--secondary-color);
        }

        h4 {
            font-size: 1.25rem;
            margin: 1.25rem 0 0.5rem;
        }

        h5 {
            font-size: 1.1rem;
            margin: 1rem 0 0.5rem;
        }

        p {
            margin-bottom: 1rem;
        }

        ul, ol {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        /* Code Blocks */
        pre {
            background: var(--code-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            padding: 1rem;
            overflow-x: auto;
            margin: 1rem 0;
        }

        code {
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.875rem;
            background: var(--code-bg);
            padding: 0.2rem 0.4rem;
            border-radius: 3px;
        }

        pre code {
            background: none;
            padding: 0;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        th, td {
            padding: 0.75rem;
            text-align: left;
            border: 1px solid var(--border-color);
        }

        th {
            background: #f9fafb;
            font-weight: 600;
        }

        /* Badges */
        .badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-right: 0.5rem;
        }

        .badge-success {
            background: #d1fae5;
            color: #065f46;
        }

        .badge-info {
            background: #dbeafe;
            color: #1e40af;
        }

        .badge-warning {
            background: #fed7aa;
            color: #92400e;
        }

        /* Alert Boxes */
        .alert {
            padding: 1rem;
            border-radius: 6px;
            margin: 1rem 0;
            border-left: 4px solid;
        }

        .alert-info {
            background: #dbeafe;
            border-color: #2563eb;
            color: #1e3a8a;
        }

        .alert-warning {
            background: #fef3c7;
            border-color: #f59e0b;
            color: #78350f;
        }

        .alert-success {
            background: #d1fae5;
            border-color: #10b981;
            color: #065f46;
        }

        /* Back to Top */
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 50px;
            height: 50px;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: none;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: all 0.3s;
        }

        .back-to-top:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .back-to-top.show {
            display: flex;
        }

        /* Language Toggle */
        .lang-content {
            display: none;
        }

        .lang-content.active {
            display: block;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s;
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .main {
                margin-left: 0;
                padding: 1.5rem;
            }

            .mobile-menu-btn {
                display: block;
            }
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
        }

        /* Pros/Cons Lists */
        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin: 1rem 0;
        }

        .pros, .cons {
            padding: 1rem;
            border-radius: 6px;
        }

        .pros {
            background: #d1fae5;
            border: 1px solid #10b981;
        }

        .cons {
            background: #fee2e2;
            border: 1px solid #ef4444;
        }

        @media (max-width: 768px) {
            .pros-cons {
                grid-template-columns: 1fr;
            }
        }

        /* Step boxes */
        .step-box {
            background: #f9fafb;
            border-left: 4px solid var(--primary-color);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 6px 6px 0;
        }

        .step-box h5 {
            color: var(--primary-color);
            margin-top: 0;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <button class="mobile-menu-btn" onclick="toggleSidebar()">â˜°</button>
        <a href="#" class="logo">Dialogue System Docs</a>
        <div class="header-right">
            <button class="lang-switch" onclick="switchLanguage()">
                <span id="lang-btn-text">ä¸­æ–‡</span>
            </button>
        </div>
    </header>

    <!-- Sidebar -->
    <nav class="sidebar" id="sidebar">
        <div class="nav-section" id="nav-en">
            <div class="nav-title">Getting Started</div>
            <a href="#features" class="nav-link">Features</a>
            <a href="#quick-start" class="nav-link">Quick Start</a>
            
            <div class="nav-title">Core</div>
            <a href="#core-components" class="nav-link">Core Components</a>
            <a href="#localization" class="nav-link">Localization System</a>
            <a href="#dialogue-editor" class="nav-link">Dialogue Tree Editor</a>
            
            <div class="nav-title">Advanced</div>
            <a href="#advanced" class="nav-link">Advanced Features</a>
            <a href="#api" class="nav-link">API Reference</a>
            <a href="#best-practices" class="nav-link">Best Practices</a>
            <a href="#faq" class="nav-link">FAQ</a>
        </div>

        <div class="nav-section" id="nav-zh" style="display: none;">
            <div class="nav-title">å¿«é€Ÿå¼€å§‹</div>
            <a href="#features-zh" class="nav-link">åŠŸèƒ½ç‰¹æ€§</a>
            <a href="#quick-start-zh" class="nav-link">å¿«é€Ÿå¼€å§‹</a>
            
            <div class="nav-title">æ ¸å¿ƒ</div>
            <a href="#core-components-zh" class="nav-link">æ ¸å¿ƒç»„ä»¶</a>
            <a href="#localization-zh" class="nav-link">æœ¬åœ°åŒ–ç³»ç»Ÿ</a>
            <a href="#dialogue-editor-zh" class="nav-link">å¯¹è¯æ ‘ç¼–è¾‘å™¨</a>
            
            <div class="nav-title">é«˜çº§</div>
            <a href="#advanced-zh" class="nav-link">é«˜çº§åŠŸèƒ½</a>
            <a href="#api-zh" class="nav-link">API å‚è€ƒ</a>
            <a href="#best-practices-zh" class="nav-link">æœ€ä½³å®è·µ</a>
            <a href="#faq-zh" class="nav-link">å¸¸è§é—®é¢˜</a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main">
        <div class="content">
            <!-- English Content -->
            <div id="content-en" class="lang-content active">
                <section id="intro">
                    <h1>ğŸ® Dialogue System & Localization</h1>
                    <p>A comprehensive Unity dialogue system with visual dialogue tree editor, multi-language localization, conditional branching, choice system, and event triggering.</p>
                </section>

                <section id="features">
                    <h2>Features</h2>
                    
                    <h3>Dialogue System</h3>
                    <ul>
                        <li><strong>Visual Dialogue Tree Editor</strong> - Node-based dialogue flow design</li>
                        <li><strong>Branching Dialogues</strong> - Support for player choices and multi-branch storylines</li>
                        <li><strong>Conditional Logic</strong> - Dynamic dialogue flow based on game state</li>
                        <li><strong>Event System</strong> - Trigger game events during dialogues</li>
                        <li><strong>Character Management</strong> - Centralized character and avatar management</li>
                        <li><strong>Typewriter Effect</strong> - Customizable text display animation</li>
                    </ul>

                    <h3>Localization System</h3>
                    <ul>
                        <li><strong>Multi-language Support</strong> - English / ä¸­æ–‡ / æ—¥æœ¬èª</li>
                        <li><strong>Google Sheets Integration</strong> - Import translations from cloud spreadsheets</li>
                        <li><strong>Auto Fallback</strong> - Automatic fallback when translations are missing</li>
                        <li><strong>Font Switching</strong> - Automatic font change based on language</li>
                        <li><strong>Dual Mode</strong> - Support both local editing and online management</li>
                    </ul>
                </section>

                <section id="quick-start">
                    <h2>Quick Start</h2>
                    
                    <div class="step-box">
                        <h5>Step 1: Open Manager Window</h5>
                        <pre><code>Unity Menu â†’ Tools â†’ Dialogue System â†’ Manager Window</code></pre>
                    </div>

                    <div class="step-box">
                        <h5>Step 2: Choose Your Localization Mode</h5>
                        <p><strong>Option A: Local Mode (Quick Start)</strong></p>
                        <ul>
                            <li>Enter text directly in editor</li>
                            <li>Best for prototyping and small projects</li>
                            <li>No setup required</li>
                        </ul>
                        <p><strong>Option B: Online Mode (Team Collaboration)</strong></p>
                        <ul>
                            <li>Use Google Sheets to manage translations</li>
                            <li>Best for large projects with translation teams</li>
                            <li>Requires initial Google Sheets setup</li>
                        </ul>
                    </div>

                    <div class="step-box">
                        <h5>Step 3: Create Characters</h5>
                        <ol>
                            <li>Click <strong>+ Add Character</strong></li>
                            <li>Set character name and avatar path</li>
                            <li>Choose if it's a player character</li>
                        </ol>
                    </div>

                    <div class="step-box">
                        <h5>Step 4: Create Dialogue Tree</h5>
                        <ol>
                            <li>Click <strong>+ Create Tree</strong></li>
                            <li>Enter dialogue tree filename</li>
                            <li>Double-click to open editor</li>
                        </ol>
                    </div>

                    <div class="step-box">
                        <h5>Step 5: Use in Scene</h5>
                        <pre><code>// Load dialogue data
DialogueController.instance.LoadDialogueFromFile(dialogueJsonFile);

// Start dialogue
DialogueController.instance.StartDialogue();</code></pre>
                    </div>
                </section>

                <section id="core-components">
                    <h2>Core Components</h2>
                    
                    <h3>DialogueController</h3>
                    <p>The core controller for the dialogue system, responsible for dialogue flow, UI updates, and event triggering.</p>
                    
                    <h4>Key Methods</h4>
                    <pre><code>// Load dialogue JSON file
void LoadDialogueFromFile(TextAsset dialogueJsonFile)

// Start dialogue
void StartDialogue()

// Set current dialogue node
void SetDialogueIndex(int index)

// Move to next dialogue node
void NextDialogueIndex()</code></pre>

                    <h3>DialogueDisplaySettings</h3>
                    <p>Controls dialogue display appearance and language switching.</p>
                    <pre><code>public bool separatePlayerAndNPC;  // Separate player and NPC UI
public Color inactiveAvatarColor;  // Inactive avatar color</code></pre>
                </section>

                <section id="localization">
                    <h2>Localization System</h2>
                    
                    <div class="alert alert-info">
                        <strong>Two Modes Available:</strong> Choose based on your project scale and team structure.
                    </div>

                    <h3>ğŸ“ Mode Overview</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Mode</th>
                                <th>Best For</th>
                                <th>Workflow</th>
                                <th>Updates</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Local Mode</strong></td>
                                <td>Prototyping, small projects, testing</td>
                                <td>Enter text directly in editor</td>
                                <td>Edit in Unity editor</td>
                            </tr>
                            <tr>
                                <td><strong>Online Mode</strong></td>
                                <td>Large projects, team collaboration, frequent translations</td>
                                <td>Use Google Sheets with IDs</td>
                                <td>Update spreadsheet, reload</td>
                            </tr>
                        </tbody>
                    </table>

                    <h3>ğŸ”§ Mode 1: Local Mode (Direct Input)</h3>
                    
                    <h4>When to use:</h4>
                    <ul>
                        <li>Quick prototyping and testing</li>
                        <li>Small dialogue systems</li>
                        <li>No translation team</li>
                        <li>Content rarely changes</li>
                    </ul>

                    <h4>Setup:</h4>
                    <pre><code>node.useContentId = false;
node.content.SetText("en", "Hello, traveler!");
node.content.SetText("zh", "ä½ å¥½ï¼Œæ—…è¡Œè€…ï¼");
node.content.SetText("ja", "ã“ã‚“ã«ã¡ã¯ã€æ—…è¡Œè€…ï¼");</code></pre>

                    <div class="pros-cons">
                        <div class="pros">
                            <h4>Pros âœ…</h4>
                            <ul>
                                <li>Quick to set up</li>
                                <li>See translations immediately</li>
                                <li>Simple for small projects</li>
                            </ul>
                        </div>
                        <div class="cons">
                            <h4>Cons âŒ</h4>
                            <ul>
                                <li>Hard to manage large amounts of text</li>
                                <li>Translators need Unity access</li>
                                <li>Changes require re-editing</li>
                            </ul>
                        </div>
                    </div>

                    <h3>ğŸŒ Mode 2: Online Mode (Google Sheets)</h3>
                    
                    <h4>When to use:</h4>
                    <ul>
                        <li>Professional projects with many dialogues</li>
                        <li>Team collaboration with translators</li>
                        <li>Frequent text updates</li>
                        <li>Need centralized translation management</li>
                    </ul>

                    <h4>Complete Setup Guide:</h4>
                    
                    <div class="step-box">
                        <h5>Step 1: Create Google Sheets</h5>
                        <ol>
                            <li>Go to <a href="https://sheets.google.com" target="_blank">Google Sheets</a></li>
                            <li>Create new spreadsheet (e.g., "GameDialogueTranslations")</li>
                            <li>Set up columns in exact format:</li>
                        </ol>
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>ä¸­æ–‡</th>
                                    <th>English</th>
                                    <th>æ—¥æœ¬èª</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>greeting_hello</td>
                                    <td>ä½ å¥½</td>
                                    <td>Hello</td>
                                    <td>ã“ã‚“ã«ã¡ã¯</td>
                                </tr>
                                <tr>
                                    <td>greeting_goodbye</td>
                                    <td>å†è§</td>
                                    <td>Goodbye</td>
                                    <td>ã•ã‚ˆã†ãªã‚‰</td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="alert alert-warning">
                            <strong>âš ï¸ Critical Rules:</strong>
                            <ul>
                                <li>First row MUST be: <code>ID,ä¸­æ–‡,English,æ—¥æœ¬èª</code></li>
                                <li>Column A (ID): unique identifiers (lowercase, underscores, no spaces)</li>
                                <li>Use consistent naming like <code>chapter1_scene2_line003</code></li>
                            </ul>
                        </div>
                    </div>

                    <div class="step-box">
                        <h5>Step 2: Publish as CSV</h5>
                        <ol>
                            <li>Click <strong>File â†’ Share â†’ Publish to web</strong></li>
                            <li>Stay on <strong>Link</strong> tab</li>
                            <li>Select your sheet name</li>
                            <li>Choose format: <strong>Comma-separated values (.csv)</strong></li>
                            <li>Click <strong>Publish</strong></li>
                            <li>Copy the URL (should end with <code>?output=csv</code>)</li>
                        </ol>
                        <pre><code>https://docs.google.com/spreadsheets/d/e/2PACX-1vR.../pub?output=csv</code></pre>
                    </div>

                    <div class="step-box">
                        <h5>Step 3: Load in Unity</h5>
                        <ol>
                            <li>Open <strong>Tools â†’ Dialogue System â†’ Manager Window</strong></li>
                            <li>Paste CSV URL in "Google Sheets CSV URL" field</li>
                            <li>Click <strong>Load</strong> button</li>
                            <li>Check Console for success message</li>
                        </ol>
                        <div class="alert alert-success">
                            <strong>âœ… Success:</strong> "Successfully loaded X localization entries"
                        </div>
                    </div>

                    <div class="step-box">
                        <h5>Step 4: Use IDs in Dialogue Nodes</h5>
                        <pre><code>// In dialogue tree editor:
node.useContentId = true;              // Enable Online Mode
node.contentId = "dialogue_intro_001"; // Reference Google Sheets ID</code></pre>
                    </div>

                    <div class="step-box">
                        <h5>Step 5: Updating Translations</h5>
                        <ol>
                            <li>Edit your Google Sheets</li>
                            <li>In Unity: Manager Window â†’ Click <strong>Load</strong> again</li>
                            <li>Re-export dialogue trees if needed</li>
                        </ol>
                    </div>

                    <h4>Code Usage:</h4>
                    <pre><code>// Get text by ID
string text = DialogueLocalization.GetText("greeting_hello", Language.ChineseSimplified);

// Check if ID exists
if (DialogueLocalization.HasId("greeting_hello")) {
    Debug.Log("ID is valid!");
}

// Get all language versions
var allVersions = DialogueLocalization.GetAllLanguages("greeting_hello");</code></pre>

                    <div class="pros-cons">
                        <div class="pros">
                            <h4>Pros âœ…</h4>
                            <ul>
                                <li>Centralized translation management</li>
                                <li>Translators don't need Unity access</li>
                                <li>Easy to update text in bulk</li>
                                <li>Version control friendly</li>
                                <li>Perfect for team collaboration</li>
                            </ul>
                        </div>
                        <div class="cons">
                            <h4>Cons âŒ</h4>
                            <ul>
                                <li>Requires initial setup (5 minutes)</li>
                                <li>Need internet connection to load</li>
                                <li>Must remember to reload after updates</li>
                            </ul>
                        </div>
                    </div>

                    <h3>ğŸ”„ Mixing Both Modes</h3>
                    <p>You can use both modes in the same project!</p>
                    <pre><code>// Node 1: Uses Google Sheets
node1.useContentId = true;
node1.contentId = "main_story_001";

// Node 2: Direct input
node2.useContentId = false;
node2.content.SetText("en", "Debug: Test node");</code></pre>
                </section>

                <section id="dialogue-editor">
                    <h2>Dialogue Tree Editor</h2>
                    
                    <h3>Node Types</h3>
                    <ul>
                        <li><strong>Basic Dialogue Node</strong> - Display text, set character, configure next node</li>
                        <li><strong>Choice Node</strong> - Multiple choices, conditional display</li>
                        <li><strong>Conditional Branch Node</strong> - Auto-jump based on game state</li>
                    </ul>

                    <h3>Creating Dialogue Flow</h3>
                    <ol>
                        <li><strong>Add Nodes</strong> - Right-click â†’ Create Node</li>
                        <li><strong>Connect Nodes</strong> - Drag from output to input port</li>
                        <li><strong>Add Choices</strong> - Click + Add Choice on node</li>
                        <li><strong>Add Events</strong> - Click event button, select target</li>
                        <li><strong>Export</strong> - Click Export button, generate JSON</li>
                    </ol>
                </section>

                <section id="advanced">
                    <h2>Advanced Features</h2>
                    
                    <h3>Condition System</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Comparison Type</th>
                                <th>Symbol</th>
                                <th>Supported Types</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>Equal</td><td>==</td><td>int, float, bool</td></tr>
                            <tr><td>NotEqual</td><td>!=</td><td>int, float, bool</td></tr>
                            <tr><td>Greater</td><td>&gt;</td><td>int, float</td></tr>
                            <tr><td>Less</td><td>&lt;</td><td>int, float</td></tr>
                            <tr><td>GreaterOrEqual</td><td>&gt;=</td><td>int, float</td></tr>
                            <tr><td>LessOrEqual</td><td>&lt;=</td><td>int, float</td></tr>
                        </tbody>
                    </table>

                    <h3>Event System</h3>
                    <p><strong>Trigger Timing:</strong></p>
                    <ul>
                        <li><code>OnDialogueStart</code> - When dialogue node appears</li>
                        <li><code>OnDialogueEnd</code> - After player clicks continue</li>
                        <li><code>OnDialogueDisappear</code> - After dialogue box disappears (last node only)</li>
                    </ul>
                </section>

                <section id="api">
                    <h2>API Reference</h2>
                    
                    <h3>DialogueController API</h3>
                    <pre><code>// Singleton access
DialogueController.instance

// Load dialogue data
void LoadDialogueFromFile(TextAsset dialogueJsonFile)

// Start dialogue
void StartDialogue()

// Set dialogue index
void SetDialogueIndex(int index)

// Move to next line
void NextDialogueIndex()

// State queries
bool isDialogueActive     // Is dialogue in progress
bool isDialogueFinished   // Is dialogue finished</code></pre>

                    <h3>LocalizedText API</h3>
                    <pre><code>// Create
LocalizedText text = new LocalizedText();
LocalizedText text = new LocalizedText("Default Text");

// Set text
void SetText(string languageCode, string text)
void SetText(Language language, string text)

// Get text (with Fallback)
string GetText(string languageCode)
string GetText(Language language)

// Language codes
"en" / "english" â†’ English
"zh" / "chinese" â†’ Chinese
"ja" / "japanese" â†’ Japanese</code></pre>

                    <h3>DialogueLocalization API</h3>
                    <pre><code>// Load data
IEnumerator LoadFromGoogleSheets(Action&lt;bool, string&gt; onComplete)

// Get text
string GetText(string id, Language language)

// Check ID
bool HasId(string id)

// Get all languages
Dictionary&lt;Language, string&gt; GetAllLanguages(string id)

// Query state
bool IsLoaded

// Clear cache
void Clear()</code></pre>
                </section>

                <section id="best-practices">
                    <h2>Best Practices</h2>
                    
                    <h3>1. Dialogue Design</h3>
                    <ul>
                        <li>Use meaningful node names for easy management</li>
                        <li>Break long dialogues into segments</li>
                        <li>Use conditional branches wisely</li>
                        <li>Add clear hints for important choices</li>
                    </ul>

                    <h3>2. Localization Management</h3>
                    <ul>
                        <li>Use ID reference mode for frequently translated content</li>
                        <li>Maintain ID naming conventions (e.g., <code>dialogue_chapter1_001</code>)</li>
                        <li>Regularly backup localization spreadsheets</li>
                        <li>Use Fallback mechanism wisely</li>
                    </ul>

                    <h3>3. Performance Optimization</h3>
                    <ul>
                        <li>Avoid frequently calling complex events</li>
                        <li>Cache JSON after exporting</li>
                        <li>Use object pool for choice buttons</li>
                        <li>Prioritize targetObjectID over name lookup</li>
                    </ul>

                    <h3>4. Debugging Tips</h3>
                    <ul>
                        <li>Use Debug.Log to track dialogue flow</li>
                        <li>Test all branch paths in editor</li>
                        <li>Check edge cases in conditional logic</li>
                        <li>Verify target objects exist for event calls</li>
                    </ul>
                </section>

                <section id="faq">
                    <h2>FAQ</h2>
                    
                    <h3>Q: Why does localization loading fail?</h3>
                    <p><strong>A:</strong> Check the following:</p>
                    <ol>
                        <li>Is Google Sheets published as CSV?</li>
                        <li>Is URL correct (should include <code>/pub?output=csv</code>)?</li>
                        <li>Is first row <code>ID,ä¸­æ–‡,English,æ—¥æœ¬èª</code>?</li>
                        <li>Is network connection working?</li>
                    </ol>

                    <h3>Q: How to handle text with commas inside quotes?</h3>
                    <p><strong>A:</strong> Use double quotes in CSV:</p>
                    <pre><code>ID,ä¸­æ–‡,English,æ—¥æœ¬èª
greeting,"ä½ å¥½ï¼Œä¸–ç•Œ","Hello, World","ã“ã‚“ã«ã¡ã¯ã€ä¸–ç•Œ"</code></pre>

                    <h3>Q: Condition checks not working?</h3>
                    <p><strong>A:</strong> Confirm:</p>
                    <ol>
                        <li>targetObjectID or targetObjectName is correct</li>
                        <li>Component type name spelling is correct (case-sensitive)</li>
                        <li>Variable name is correct and is public field or property</li>
                        <li>Variable type matches compareValue</li>
                    </ol>

                    <h3>Q: Event calls failing?</h3>
                    <p><strong>A:</strong> Check:</p>
                    <ol>
                        <li>Target object exists and is active in scene</li>
                        <li>Component is correctly added to object</li>
                        <li>Method is public and parameter type matches</li>
                        <li>Method is not static</li>
                    </ol>
                </section>

                <section id="tech-stack">
                    <h2>Tech Stack</h2>
                    <ul>
                        <li><strong>Unity Version:</strong> 2020.3+ (Recommended 2021.3 LTS)</li>
                        <li><strong>Dependencies:</strong>
                            <ul>
                                <li>TextMeshPro</li>
                                <li>Unity UI</li>
                                <li>UnityEngine.Networking (for localization loading)</li>
                            </ul>
                        </li>
                    </ul>
                </section>
            </div>

            <!-- Chinese Content (abbreviated for length - would include full translation) -->
            <div id="content-zh" class="lang-content">
                <section id="intro-zh">
                    <h1>ğŸ® å¯¹è¯ç³»ç»Ÿ & æœ¬åœ°åŒ–</h1>
                    <p>ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ Unity å¯¹è¯ç³»ç»Ÿï¼Œæ”¯æŒå¯è§†åŒ–å¯¹è¯æ ‘ç¼–è¾‘ã€å¤šè¯­è¨€æœ¬åœ°åŒ–ã€æ¡ä»¶åˆ†æ”¯ã€é€‰é¡¹ç³»ç»Ÿå’Œäº‹ä»¶è§¦å‘ã€‚</p>
                </section>

                <section id="features-zh">
                    <h2>åŠŸèƒ½ç‰¹æ€§</h2>
                    
                    <h3>å¯¹è¯ç³»ç»Ÿ</h3>
                    <ul>
                        <li><strong>å¯è§†åŒ–å¯¹è¯æ ‘ç¼–è¾‘å™¨</strong> - èŠ‚ç‚¹å¼å¯¹è¯æµç¨‹è®¾è®¡</li>
                        <li><strong>åˆ†æ”¯å¯¹è¯</strong> - æ”¯æŒç©å®¶é€‰æ‹©å’Œå¤šåˆ†æ”¯å‰§æƒ…</li>
                        <li><strong>æ¡ä»¶åˆ¤æ–­</strong> - åŸºäºæ¸¸æˆçŠ¶æ€çš„åŠ¨æ€å¯¹è¯æµç¨‹</li>
                        <li><strong>äº‹ä»¶ç³»ç»Ÿ</strong> - åœ¨å¯¹è¯è¿‡ç¨‹ä¸­è§¦å‘æ¸¸æˆäº‹ä»¶</li>
                        <li><strong>è§’è‰²ç®¡ç†</strong> - ç»Ÿä¸€ç®¡ç†å¯¹è¯è§’è‰²å’Œå¤´åƒ</li>
                        <li><strong>æ‰“å­—æœºæ•ˆæœ</strong> - å¯è‡ªå®šä¹‰é€Ÿåº¦çš„æ–‡å­—æ˜¾ç¤ºåŠ¨ç”»</li>
                    </ul>

                    <h3>æœ¬åœ°åŒ–ç³»ç»Ÿ</h3>
                    <ul>
                        <li><strong>å¤šè¯­è¨€æ”¯æŒ</strong> - English / ä¸­æ–‡ / æ—¥æœ¬èª</li>
                        <li><strong>Google Sheets é›†æˆ</strong> - ä»äº‘ç«¯è¡¨æ ¼å¯¼å…¥ç¿»è¯‘</li>
                        <li><strong>è‡ªåŠ¨ Fallback</strong> - ç¼ºå¤±ç¿»è¯‘æ—¶è‡ªåŠ¨é™çº§æ˜¾ç¤º</li>
                        <li><strong>å­—ä½“åˆ‡æ¢</strong> - æ ¹æ®è¯­è¨€è‡ªåŠ¨åˆ‡æ¢å­—ä½“</li>
                        <li><strong>åŒæ¨¡å¼</strong> - æ”¯æŒæœ¬åœ°ç¼–è¾‘å’Œåœ¨çº¿ç®¡ç†</li>
                    </ul>
                </section>

                <!-- Continue with Chinese translation of all sections... -->
                <!-- For brevity, I'm showing the structure. Full content would be included -->
                
                <section id="quick-start-zh">
                    <h2>å¿«é€Ÿå¼€å§‹</h2>
                    <p>ï¼ˆä¸­æ–‡ç‰ˆæœ¬çš„å®Œæ•´å†…å®¹ä¼šåœ¨è¿™é‡Œ...ï¼‰</p>
                </section>
                
                <!-- Add all other sections with -zh suffix -->
            </div>
        </div>
    </main>

    <!-- Back to Top Button -->
    <div class="back-to-top" id="backToTop" onclick="scrollToTop()">
        â†‘
    </div>

    <script>
        // Language switching
        let currentLang = 'en';

        function switchLanguage() {
            currentLang = currentLang === 'en' ? 'zh' : 'en';
            
            // Toggle content
            document.getElementById('content-en').classList.toggle('active');
            document.getElementById('content-zh').classList.toggle('active');
            
            // Toggle navigation
            document.getElementById('nav-en').style.display = currentLang === 'en' ? 'block' : 'none';
            document.getElementById('nav-zh').style.display = currentLang === 'zh' ? 'block' : 'none';
            
            // Update button text
            document.getElementById('lang-btn-text').textContent = currentLang === 'en' ? 'ä¸­æ–‡' : 'English';
            
            // Update page language
            document.documentElement.lang = currentLang;
        }

        // Mobile sidebar toggle
        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('open');
        }

        // Back to top
        window.onscroll = function() {
            const backToTop = document.getElementById('backToTop');
            if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
                backToTop.classList.add('show');
            } else {
                backToTop.classList.remove('show');
            }
        };

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Active nav link
        const navLinks = document.querySelectorAll('.nav-link');
        const sections = document.querySelectorAll('section');

        window.addEventListener('scroll', () => {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (pageYOffset >= sectionTop - 100) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.add('active');
                }
            });
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    // Close mobile sidebar after click
                    document.getElementById('sidebar').classList.remove('open');
                }
            });
        });
    </script>
</body>
</html>
